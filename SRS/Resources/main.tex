\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[main=italian,english]{babel}
\usepackage{geometry}
\usepackage{array}
\usepackage{tabularx}
\usepackage{longtable}
% \usepackage{cellspace} % Removed due to conflict
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage{booktabs}
\usepackage{enumitem}
\usepackage{float}
\usepackage[hidelinks]{hyperref}
\usepackage{xcolor}
\usepackage{tablefootnote}
\usepackage{svg}

\hypersetup{
    pdftitle={Software Requirements Specification}, 
    pdfauthor={Marino Francesco, Pepe Daniele, Orsini Giovanni, Palmieri Vito}, 
    pdfsubject={Software per la gestione di una biblioteca}, 
    pdfkeywords={biblioteca, gestione, libri, utenti, prestiti, salvataggio, caricamento, backup}, 
    pdfcreator={Gruppo 1}, 
    pdfproducer={Gruppo 1} 
}

% Impostazioni tabelle - padding uniforme per le celle
% \addparagraphcolumntypes{X} % Removed
% \cellspacetoplimit=5pt % Removed
% \cellspacebottomlimit=5pt % Removed
\renewcommand{\arraystretch}{1.5} % Added for spacing
\setlength{\tabcolsep}{5pt}
\renewcommand{\tabularxcolumn}[1]{m{#1}}

% Impostazioni pagina
\geometry{left=2.5cm, right=2.5cm, top=3cm, bottom=3cm}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\textit{Software Requirements Specification}}
\fancyhead[R]{\textit{Gruppo 1}}
\fancyfoot[C]{\thepage}

% Colori personalizzati
\definecolor{sectioncolor}{RGB}{0,102,204}

\title{\textbf{\Large Software Requirements Specification}\\
\large Software per la gestione di una biblioteca}
\author{Autori: Marino Francesco, Pepe Daniele, Orsini Giovanni, Palmieri Vito \\ Gruppo 1}

\begin{document}

    \maketitle
    \thispagestyle{empty}

    \newpage
    \tableofcontents
    \newpage

%===============================================
    \section{Introduzione}\label{sec:introduzione}
%===============================================

    \subsection{Descrizione del progetto}\label{subsec:descrizione-progetto}

%Da inserire

    Il presente documento descrive le specifiche dei requisiti software di un sistema di gestione di una biblioteca (es.\ universitaria).
    Il sistema permette l'inserimento, modifica e cancellazione di libri in una libreria digitale, il tutto memorizzato localmente in un file.
    Permette inoltre di registrare, modificare e rimuovere gli utenti per tracciarne i prestiti.

    \subsection{Convenzioni adottate nel documento}\label{subsec:convenzioni-documento}

    Convenzioni sulla priorità dei requisiti:

    \begin{table}[H]
        \centering
        \begin{tabularx}{10cm}{|c|X|}
            \hline
            \textbf{Termine} & \textbf{Descrizione} \\
            \hline
            ALTA & Il requisito deve essere necessariamente implementato \\
            \hline
            MEDIO & Il requisito può essere implementato ma non è strettamente necessario\\
            \hline
            BASSA & Il requisito si può implementare se non richiede grandi sforzi\\
            \hline
        \end{tabularx}
        \label{tab:priorities}
    \end{table}

    Convenzioni sul rischio tecnico dei requisiti:
    \begin{table}[H]
        \centering
        \begin{tabularx}{10cm}{|c|X|}
            \hline
            \textbf{Termine} & \textbf{Descrizione} \\
            \hline
            ALTA & È difficile prevedere se si riuscirà a realizzare il requisito (in assoluto, o semplicemente nei tempi e nei costi previsti)\\
            \hline
            MEDIO & Si ritiene di poter realizzare il requisito, ma ci sono alcuni fattori di rischio che non possono essere controllati\\
            \hline
            BASSA & Si ha piena fiducia nella propria capacità di realizzarlo\\
            \hline
        \end{tabularx}
        \label{tab:risks}
    \end{table}

    \newpage
    \noindent Convenzioni sulla numerazione dei requisiti:

    \begin{table}[H]
        \centering
        \begin{tabularx}{13.2cm}{|c|X|}
            \hline
            \textbf{Codice del requisito} & \textbf{Descrizione} \\
            \hline
            FBR-XX & Functional Book Requirements \\
            \hline
            FUR-XX & Functional User Requirements\\
            \hline
            FLR-XX & Functional Loan Requirements \\
            \hline
            FDR-XX & Functional Data Requirements\\
            \hline
            NUR-XX & Non-Functional Usability Requirements\\
            \hline
            NRR-XX & Non-Functional Reliability Requirements\\
            \hline
            NMR-XX & Non-Functional Maintainability Requirements\\
            \hline
            NPR-XX & Non-Functional Platform Requirements\\
            \hline

        \end{tabularx}
        \label{tab:req-numbering}
    \end{table}




%===============================================
    \newpage
    \section{Specifica dei requisiti}\label{sec:requirements}
    \input{specifica-dei-requisiti}

    \newpage
    \section{Casi d'Uso}\label{sec:use-cases}
    \input{casi-d'uso}

    \newpage
    \section{Business Flow}\label{sec:business-flow}
    \input{business-flow}

    \section{Tracciabilità (WIP)}\label{sec:traceability}
%===============================================

    \subsection{Tabella di tracciabilità}\label{subsec:trace-table}

    \textit{Nota:} I requisiti di interfaccia (FIR) sono verificati tramite test manuali dell'interfaccia utente. I requisiti non funzionali di usabilità (NUR), manutenibilità (NMR) e portabilità (NPR) sono verificati tramite user testing, code review e build system.

    \begin{longtable}{|c|p{8cm}|c|}
        \hline
        \textbf{ID Requisito} & \textbf{Componente} & \textbf{Casi di test} \\
        \hline
        \endfirsthead

        \multicolumn{3}{c}%
        {\textit{Tabella continua dalla pagina precedente}} \\
        \hline
        \textbf{ID Requisito} & \textbf{Componente} & \textbf{Casi di test} \\
        \hline
        \endhead

        \hline
        \multicolumn{3}{r}{\textit{continua nella pagina successiva}} \\
        \endfoot

        \hline
        \endlastfoot

        \hyperref[FBR:01]{FBR-01} & BookSet.java & BookSetTest.testAddBook() \\
        \hline
        \hyperref[FBR:02]{FBR-02} & Book.java & BookTest.testBookEdit() \\
        \hline
        \hyperref[FBR:03]{FBR-03} & BookSet.java & BookSetTest.testRemoveBook() \\
        \hline
        \hyperref[FBR:04]{FBR-04} & BookSet.java & BookSetTest.testSortedBooksByTitle() \\
        \hline
        \hyperref[FBR:04.1]{FBR-04.1} & BookSet.java & BookSetTest.testSortedBooksByAuthor() BookSetTest.testSortedBooksByYear() BookSetTest.testSortedBooksByCopies() \\
        \hline
        \hyperref[FBR:05]{FBR-05} &  & \\
        \hline
        \hyperref[FBR:05.1]{FBR-05.1} & & \\
        \hline
        \hyperref[FUR:01]{FUR-01} & UserSet.java & UserSetTest.testAddUser() \\
        \hline
        \hyperref[FUR:02]{FUR-02} & User.java & UserTest.testUserEdit() \\
        \hline
        \hyperref[FUR:03]{FUR-03} & UserSet.java & UserSetTest.testRemoveUser() \\
        \hline
        \hyperref[FUR:04]{FUR-04} & UserSet.java & UserSetTest.testSortedUsersByName() \\
        \hline
        \hyperref[FUR:04.1]{FUR-04.1} & UserSet.java & UserSetTest.testSortedUsersById() \\
        \hline
        \hyperref[FUR:05]{FUR-05} & & \\
        \hline
        \hyperref[FUR:05.1]{FUR-05.1} & & \\
        \hline
        \hyperref[FLR:01]{FLR-01} & LendingSet.java & LendingSetTest.testAddLending() \\
        \hline
        \hyperref[FLR:02]{FLR-02} & Lending.java & LendingTest.testSetReturnDate() \\
        \hline
        \hyperref[FLR:03]{FLR-03} & LendingSet.java & LendingSetTest.testRemoveLending() \\
        \hline
        \hyperref[FLR:04]{FLR-04} & LendingSet.java & LendingSetTest.testSortedLendingsByReturnDate() \\
        \hline
        \hyperref[FLR:04.1]{FLR-04.1} & & \\
        \hline
        \hyperref[FLR:05]{FLR-05} & & \\
        \hline
        \hyperref[FLR:05.1]{FLR-05.1} & & \\
        \hline
        \hyperref[FLR:06]{FLR-06} & LendingSet.java & LendingSetTest.testRemoveLending()\\
        \hline

        % Da verificare e adattare alle classi 

        \hyperref[FDR:01]{FDR-01} & DB.java & DBTest.testReadData() \\
        \hline
        \hyperref[FDR:02]{FDR-02} & DB.java & DBTest.testWriteData() \\
        \hline
        \hyperref[FDR:03]{FDR-03} & DB.java & DBTest.testDeleteData() \\
        \hline
        \hyperref[FDR:04]{FDR-04} & Launcher.java & Integration test \\
        \hline
        \hyperref[FDR:05]{FDR-05} & DB.java & DBTest.testAutoSave() \\
        \hline
        \hyperref[FIR:01]{FIR-01} & Mockup.fxml, PocoLibController.java & Test manuale UI\\
        \hline
        \hyperref[FIR:01.1]{FIR-01.1} & Mockup.fxml (tab prestiti), LendingViewController.java & Test manuale UI\\
        \hline
        \hyperref[FIR:01.1.1]{FIR-01.1.1} & Search.java, LendingSet.java & Test manuale UI\\
        \hline
        \hyperref[FIR:01.1.2]{FIR-01.1.2} & LendingSet.java, Mockup-view-lending.fxml & Test manuale UI\\
        \hline
        \hyperref[FIR:01.1.3]{FIR-01.1.3} & LendingEditController.java, Mockup-edit-lending.fxml & Test manuale UI\\
        \hline
        \hyperref[FIR:01.2]{FIR-01.2} & Mockup.fxml (tab libri), BookViewController.java & Test manuale UI\\
        \hline
        \hyperref[FIR:01.2.1]{FIR-01.2.1} & Search.java, BookSet.java & Test manuale UI\\
        \hline
        \hyperref[FIR:01.2.2]{FIR-01.2.2} & BookSet.java, Mockup-view-book.fxml & Test manuale UI\\
        \hline
        \hyperref[FIR:01.2.3]{FIR-01.2.3} & BookEditController.java, Mockup-edit-book.fxml & Test manuale UI\\
        \hline
        \hyperref[FIR:01.3]{FIR-01.3} & Mockup.fxml (tab utenti), UserViewController.java & Test manuale UI\\
        \hline
        \hyperref[FIR:01.3.1]{FIR-01.3.1} & Search.java, UserSet.java & Test manuale UI\\
        \hline
        \hyperref[FIR:01.3.2]{FIR-01.3.2} & UserSet.java, Mockup-view-user.fxml & Test manuale UI\\
        \hline
        \hyperref[FIR:01.3.3]{FIR-01.3.3} & UserEditController.java, Mockup-edit-user.fxml & Test manuale UI\\
        \hline
        \hyperref[FIR:02]{FIR-02} & Mockup-view-lending.fxml, LendingViewController.java & Test manuale UI\\
        \hline
        \hyperref[FIR:03]{FIR-03} & Mockup-edit-lending.fxml, LendingEditController.java & Test manuale UI\\
        \hline
        \hyperref[FIR:04]{FIR-04} & Mockup-view-book.fxml, BookViewController.java & Test manuale UI\\
        \hline
        \hyperref[FIR:05]{FIR-05} & Mockup-edit-book.fxml, BookEditController.java & Test manuale UI\\
        \hline
        \hyperref[FIR:06]{FIR-06} & Mockup-view-user.fxml, UserViewController.java & Test manuale UI\\
        \hline
        \hyperref[FIR:07]{FIR-07} & Mockup-edit-user.fxml, UserEditController.java & Test manuale UI\\
        \hline
        \hyperref[NUR:01]{NUR-01} & GUI (tutti i mockup) & User acceptance testing \\
        \hline
        \hyperref[NUR:02]{NUR-02} & GUI (messaggi di errore) & User acceptance testing \\
        \hline
        \hyperref[NUR:03]{NUR-03} & Tutta l'applicazione & User acceptance testing \\
        \hline
        \hyperref[NRR:01]{NRR-01} & User.java, UserDataNotValidException.java & UserTest.testEmailValidation() \\
        \hline
        \hyperref[NRR:02]{NRR-02} & User.java, UserDataNotValidException.java & UserTest.testMatricolaValidation() \\
        \hline
        \hyperref[NRR:03]{NRR-03} & Book.java, BookDataNotValidException.java & BookTest.testISBNValidation() \\
        \hline
        \hyperref[NRR:04]{NRR-04} & Backup.java & BackupTest.testBackupCreation() \\
        \hline
        \hyperref[NRR:05]{NRR-05} & Backup.java & BackupTest.testRestore() \\
        \hline
        \hyperref[NRR:06]{NRR-06} & Logging classes & Test manuale/Inspection \\
        \hline
        \hyperref[NMR:01]{NMR-01} & Architettura MVC & Code review \\
        \hline
        \hyperref[NMR:02]{NMR-02} & Tutti i file sorgente & Code review/Documentation inspection \\
        \hline
        \hyperref[NMR:02.1]{NMR-02.1} & Tutti i file sorgente & Doxygen documentation generation \\
        \hline
        \hyperref[NMR:03]{NMR-03} & pom.xml & Build verification \\
        \hline
        \hyperref[NMR:04]{NMR-04} & README.md & Documentation inspection \\
        \hline
        \hyperref[NPR:01]{NPR-01} & pom.xml, JavaFX dependencies & Build e test su piattaforme diverse \\
        \hline
        \hyperref[NPR:02]{NPR-02} & Maven build system & Build verification \\
        \hline
    \end{longtable}

\end{document}