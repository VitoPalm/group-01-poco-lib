%===============================================

    \subsection{Descrizione dei Casi d'Uso sulla gestione dei libri}\label{subsec:books-use-cases}

    \subsubsection{UC-01: Inserimento Libro}\label{uc:01}
    \begin{itemize}
        \item \textbf{Attori}: Bibliotecario
        \item \textbf{Precondizioni}: Il bibliotecario ha effettuato l'accesso al pannello di gestione dei libri.
        \item \textbf{Postcondizioni}: Il libro è nell'archivio.
        \item \textbf{Scenario Principale}:
        \begin{enumerate}
            \item Il bibliotecario clicca il bottone per aggiungere un libro.
            \item Il bibliotecario inserisce: titolo, autori, anno, ISBN e numero copie: il sistema valida l'ISBN (se implementato: \hyperref[NRR:03]{NRR-03}).
            \item Il bibliotecario clicca il bottone per salvare.
            \item Il sistema aggiunge il libro all'archivio.
        \end{enumerate}
        \item \textbf{Scenari Alternativi}:
        \begin{itemize}
            \item[4a.] Il sistema mostra un messaggio di errore se l'ISBN non è valido (se implementato: \hyperref[NUR:02]{NUR-02}).
        \end{itemize}
    \end{itemize}

    \subsubsection{UC-02: Modifica libro}\label{uc:02}
    \begin{itemize}
        \item \textbf{Attori}: Bibliotecario
        \item \textbf{Precondizioni}: Il libro da modificare esiste nell'archivio.
        \item \textbf{Postcondizioni}: I dati del libro sono aggiornati e salvati.
        \item \textbf{Scenario Principale}:
        \begin{enumerate}
            \item Il bibliotecario seleziona un libro da modificare.
            \item Il bibliotecario clicca il bottone per visualizzare le proprietà del libro.
            \item Il bibliotecario clicca il pulsante per entrare in modalità di modifica dei campi.
            \item Il bibliotecario aggiorna i campi desiderati: il sistema valida i nuovi dati (se implementato: \hyperref[NRR:03]{NRR-03}).
            \item Il bibliotecario clicca il bottone per il salvataggio dei dati.
            \item Il sistema aggiorna le informazioni del libro.
        \end{enumerate}
        \item \textbf{Scenari Alternativi}:
        \begin{itemize}
            \item[5a.] Il sistema mostra un messaggio di errore se l'ISBN non è valido (se implementato: \hyperref[NUR:02]{NUR-02}).
        \end{itemize}
    \end{itemize}

    \subsubsection{UC-03: Eliminazione Libro}\label{uc:03}
    \begin{itemize}
        \item \textbf{Attori}: Bibliotecario
        \item \textbf{Precondizioni}: Il libro da eliminare esiste nell'archivio e non ci sono prestiti attivi che lo coinvolgono.
        \item \textbf{Postcondizioni}: Il libro non è più presente nell'archivio.
        \item \textbf{Scenario Principale}:
        \begin{enumerate}
            \item Il bibliotecario seleziona il libro da rimuovere.
            \item Il bibliotecario clicca sul pulsante per eliminare il libro.
            \item Il sistema chiede esplicitamente conferma dell'eliminazione (se implementato NFR-03).
            \item Il bibliotecario conferma.
            \item Il sistema rimuove il libro.
        \end{enumerate}
        \item \textbf{Scenari Alternativi}:
        \begin{itemize}
            \item[4a.] Il bibliotecario nega la conferma e l'operazione viene annullata.
        \end{itemize}
    \end{itemize}

    \subsubsection{UC-04: Visualizzazione Ordinata Libri}\label{uc:04}
    \begin{itemize}
        \item \textbf{Attori}: Bibliotecario
        \item \textbf{Precondizioni}: L'archivio contiene almeno un libro.
        \item \textbf{Postcondizioni}: Viene mostrata la lista ordinata.
        \item \textbf{Scenario Principale}:
        \begin{enumerate}
            \item Il bibliotecario accede alla sezione libri.
            \item Il sistema mostra la lista ordinata alfabeticamente per Titolo (Default).
        \end{enumerate}
    
    \end{itemize}


    \subsubsection{UC-05: Ricerca Libro}\label{uc:05}
    \begin{itemize}
        \item \textbf{Attori}: Bibliotecario
        \item \textbf{Precondizioni}: Il bibliotecario ha effettuato l'accesso al pannello di gestione dei libri.
        \item \textbf{Postcondizioni}: Vengono mostrati i risultati corrispondenti.
        \item \textbf{Scenario Principale}:
        \begin{enumerate}
            \item Il bibliotecario clicca sulla barra di ricerca.
            \item Il bibliotecario inserisce la stringa di ricerca (Titolo, Autore, Anno o ISBN).
            \item Il sistema filtra l'archivio e mostra i libri che corrispondono ai criteri.
        \end{enumerate}
        \item \textbf{Scenari Alternativi}:
        \begin{itemize}
            \item[3a.] Se nessun libro corrisponde alla ricerca viene mostrato un messaggio di errore (se implementato: NFR-02).
        \end{itemize}
    \end{itemize}

    \subsubsection{Diagramma dei casi d'uso sui libri}\label{subsubsec:books-uml}
    \begin{figure}[H]
        \centering
        \includesvg[width=1\linewidth]{gestioneLibri.svg}
        \label{fig:placeholder}
    \end{figure}
    \subsection{Descrizione dei Casi d'Uso sulla gestione degli utenti}\label{subsec:users-use-cases}

    \subsubsection{UC-06: Inserimento utente}\label{uc:06}
    \begin{itemize}
        \item \textbf{Attori}: Bibliotecario
        \item \textbf{Precondizioni}: Il bibliotecario ha effettuato l'accesso al pannello gestione utenti.
        \item \textbf{Postcondizioni}: Il nuovo utente è registrato nell'archivio.
        \item \textbf{Scenario Principale}:
        \begin{enumerate}
            \item Il bibliotecario clicca sul tasto per aggiungere un nuovo utente.
            \item Il bibliotecario inserisce Nome, Cognome, Matricola ed Email.
            \item Il sistema valida l'Email (se implementato: NFR-04) e la Matricola (NFR-05).
            \item Il sistema aggiunge l'utente all'archivio.
        \end{enumerate}
        \item \textbf{Scenari Alternativi}:
        \begin{itemize}
            \item[3a.] Il sistema mostra un errore se almeno uno dei dati non è valido (se implementato: NFR-02).
        \end{itemize}
    \end{itemize}

    \subsubsection{UC-07: Modifica Utente}\label{uc:07}
    \begin{itemize}
        \item \textbf{Attori}: Bibliotecario
        \item \textbf{Precondizioni}: L'utente da modificare esiste nell'archivio.
        \item \textbf{Postcondizioni}: I dati dell'utente sono aggiornati.
        \item \textbf{Scenario Principale}:
        \begin{enumerate}
            \item Il bibliotecario seleziona un utente.
            \item Il bibliotecario modifica i dati dell'utente.
            \item Il sistema valida i nuovi dati.
            (se implementato: NFR-04) (NFR-05).
            \item Il sistema aggiorna l'archivio.
        \end{enumerate}
        \item \textbf{Scenari Alternativi}:
        \begin{itemize}
            \item[3a.] Se la modifica crea un conflitto, viene annullata e viene segnalato un errore (se implementato: NFR-02).
        \end{itemize}
    \end{itemize}

    \subsubsection{UC-08: Cancellazione Utente}\label{uc:08}
    \begin{itemize}
        \item \textbf{Attori}: Bibliotecario
        \item \textbf{Precondizioni}: L'utente da eliminare esiste e non ha libri non restituiti.
        \item \textbf{Postcondizioni}: L'utente non è più nell'archivio.
        \item \textbf{Scenario Principale}:
        \begin{enumerate}
            \item Il bibliotecario seleziona l'utente da rimuovere.
            \item Il bibliotecario clicca sul pulsante per eliminare l'utente.
            \item Il sistema chiede conferma (se implementato NFR-03).
            \item Il bibliotecario conferma.
            \item Il sistema rimuove l'utente dall'archivio.
        \end{enumerate}
        \item \textbf{Scenari Alternativi}:
        \begin{itemize}
            \item [4a.] Il bibliotecario nega la conferma; l'operazione viene annullata.
        \end{itemize}
    \end{itemize}

    \subsubsection{UC-09: Visualizzazione Ordinata Utenti}\label{uc:09}
    \begin{itemize}
        \item \textbf{Attori}: Bibliotecario
        \item \textbf{Precondizioni}: Il bibliotecario ha effettuato l'accesso alla pagina utenti.
        \item \textbf{Postcondizioni}: La lista è visualizzata secondo il criterio scelto.
        \item \textbf{Scenario Principale}:
        \begin{enumerate}
            \item Il bibliotecario accede alla sezione utenti.
            \item Il sistema mostra gli utenti ordinati per Cognome e poi Nome (Default).
        \end{enumerate}
    
    \end{itemize}

    \subsubsection{UC-10: Ricerca Utente}\label{uc:10}
    \begin{itemize}
        \item \textbf{Attori}: Bibliotecario
        \item \textbf{Precondizioni}: Il bibliotecario ha effettuato l'accesso al pannello di gestione utenti.
        \item \textbf{Postcondizioni}: Vengono mostrati i risultati corrispondenti.
        \item \textbf{Scenario Principale}:
        \begin{enumerate}
            \item Il bibliotecario clicca sulla barra di ricerca.
            \item Il bibliotecario inserisce la stringa di ricerca (Nome, Cognome, Matricola o Email).
            \item Il sistema filtra l'archivio e mostra gli utenti che corrispondono ai criteri.
        \end{enumerate}
        \item \textbf{Scenari Alternativi}:
        \begin{itemize}
            \item[3a.] Se nessun utente corrisponde alla ricerca viene mostrato un messaggio di errore (se implementato: NFR-02).
        \end{itemize}
    \end{itemize}

    \subsubsection{Diagramma dei casi d'uso sugli utenti}\label{subsubsec:users-uml}
    \begin{figure}[H]
        \centering
        \includesvg[width=1\linewidth]{gestioneUtenti.svg}
        \label{fig:placeholder}
    \end{figure}

    \subsection{Descrizione dei Casi d'Uso sulla gestione dei prestiti}\label{subsec:lendings-use-cases}

    \subsubsection{UC-11: Registrazione Prestito}\label{uc:11}
    \begin{itemize}
        \item \textbf{Attori}: Bibliotecario
        \item \textbf{Precondizioni}: Utente e Libro esistono.
        \item \textbf{Postcondizioni}: Prestito registrato, copie libro decrementate, lista prestiti utente aggiornata.
        \item \textbf{Scenario Principale}:
        \begin{enumerate}
            \item Il bibliotecario seleziona un Utente e un Libro.
            \item Il bibliotecario indica la data di restituzione prevista.
            \item Il sistema verifica che ci siano copie disponibili del libro e che l'utente abbia meno di 3 libri in prestito.
            \item Il sistema registra il prestito, decrementa le copie del libro, associa il libro all'utente
        \end{enumerate}
        \item \textbf{Scenari Alternativi}:
        \begin{itemize}
            \item[3a.] Se non ci sono copie disponibili o l'utente ha già 3 libri in prestito, il sistema mostra un messaggio di errore (se implementato: NFR-02).
        \end{itemize}
    \end{itemize}


    \subsubsection{UC-12: Visualizzazione Prestiti Attivi}\label{uc:12}
    \begin{itemize}
        \item \textbf{Attori}: Bibliotecario
        \item \textbf{Precondizioni}: Almeno un prestito attivo esiste.
        \item \textbf{Postcondizioni}: La lista dei prestiti è visualizzata con evidenziazione ritardi.
        \item \textbf{Scenario Principale}:
        \begin{enumerate}
            \item Il bibliotecario accede alla sezione Prestiti.
            \item Il sistema mostra l'elenco ordinato per data di restituzione prevista.
            \item Il sistema evidenzia i prestiti la cui data prevista è antecedente alla data odierna.
        \end{enumerate}
    \end{itemize}


    \subsubsection{UC-13: Registrazione Restituzione}\label{uc:13}
    \begin{itemize}
        \item \textbf{Attori}: Bibliotecario
        \item \textbf{Precondizioni}: Esiste un prestito attivo per quell'utente/libro.
        \item \textbf{Postcondizioni}: Prestito eliminato, copie libro incrementate.
        \item \textbf{Scenario Principale}:
        \begin{enumerate}
            \item Il bibliotecario seleziona un prestito attivo dalla sezione prestiti.
            \item Il bibliotecario clicca sul tasto per registrare la restituzione.
            \item Il sistema aggiorna lo stato del prestito.
            \item Il sistema incrementa il numero di copie disponibili del libro.
            \item Il sistema rimuove il libro dalla lista dei prestiti correnti dell'utente.
        \end{enumerate}
    \end{itemize}
        
    \subsubsection{Diagramma dei casi d'uso sui prestiti}\label{subsubsec:lendings-uml}
    \begin{figure}[H]
        \centering
        \includesvg[width=1\linewidth]{gestionePrestiti.svg}
        \label{fig:placeholder}
    \end{figure}

    \subsection{Descrizione dei Casi d'Uso sulla gestione dei dati}\label{subsec:data-use-cases}

    \subsubsection{UC-14: Salvataggio Automatico (con Backup)}\label{uc:14}
    \begin{itemize}
        \item \textbf{Attori}: Sistema
        \item \textbf{Precondizioni}: È stata effettuata un'operazione di scrittura.
        \item \textbf{Postcondizioni}: I dati sono salvati su file e il backup è aggiornato.
        \item \textbf{Scenario Principale}:
        \begin{enumerate}
            \item L'utente completa un'operazione di modifica dati.
            \item Il sistema crea automaticamente una copia di backup dei file attuali (se implementato NFR-07).
            \item Il sistema sovrascrive i file principali con i nuovi dati.
            \item Il sistema conferma l'avvenuto salvataggio.
        \end{enumerate}
        \item \textbf{Scenari Alternativi}:
        \begin{itemize}
            \item[3a.] Se si è verificato un errore il sistema notifica l'utente che il salvataggio è fallito e mantiene i dati in memoria (se implementato NFR-02).
        \end{itemize}
    \end{itemize}

    \subsubsection{UC-15: Caricamento Automatico al Boot}\label{uc:15}
    \begin{itemize}
        \item \textbf{Attori}: Sistema
        \item \textbf{Precondizioni}: L'applicazione viene lanciata.
        \item \textbf{Postcondizioni}: Dati caricati dall'archivio.
        \item \textbf{Scenario Principale}:
        \begin{enumerate}
            \item L'applicazione si avvia.
            \item Il sistema cerca i file di salvataggio.
            \item Il sistema legge e carica i dati di Libri, Utenti e Prestiti.
            \item L'interfaccia grafica viene mostrata con i dati popolati.
        \end{enumerate}
        \item \textbf{Scenari Alternativi}:
        \begin{itemize}
            \item[3a.] Se non esistono file (primo avvio), il sistema inizializza file vuoti.
            \item[3b.] Se i file sono corrotti o illeggibili, il sistema tenta automaticamente di caricare l'ultima versione di backup funzionante (NFR-08).
        \end{itemize}
    \end{itemize}
    \subsubsection{Diagramma dei casi d'uso sui dati}\label{subsubsec:data-uml}
    \begin{figure}[H]
        \centering
        \includesvg[width=1\linewidth]{persistenza.svg}
        \label{fig:placeholder}
    \end{figure}
%===============================================